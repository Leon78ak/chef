function showSection(n){var a=n.replace(/#/,""),i=$(".section").filter('[data-section="'+a+'"]').offset().top;$("body, html").animate({scrollTop:i-40},500)}function checkSection(){$(".section").each(function(){var n=$(this),a=n.offset().top-400,i=a+n.height(),e=$(window).scrollTop();if(a<e&&e<i){var t=n.data("section");reqLink=$(".main-nav__link").filter('[href="#'+t+'"]'),reqLink.closest(".main-nav__item").addClass("active").siblings().removeClass("active")}})}function checkDistance(n,a){var i=a.offset().top,e=Math.ceil($(window).height()/3),t=i-n-e,o=a.outerHeight(!0)+i;return t<=0&&n+e-o<=0}function fixMenu(n){var a=$(".page-header").height(),i=$(".main-nav");a-60<n?i.addClass("fixed"):i.removeClass("fixed")}$(document).ready(function(){$(".main-nav__link").on("click",function(n){n.preventDefault();var a=$(this).attr("href"),i=$(".main-nav");i.removeClass("main-nav--opened"),i.addClass("main-nav--closed"),showSection(a)}),$('[data-fancybox="gallery"]').fancybox({buttons:["close"],animationEffect:"zoom",animationDuration:500,transitionEffect:"fade",transitionDuration:1e3})}),$(window).scroll(function(){var i=$(window).scrollTop();$(".page-header").height();$(".animate").each(function(){var n=$(this);if(checkDistance(i,n)){var a=n.data("animation");animationActions[a].call(n)}}),checkSection(),fixMenu(i)});